<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.xicom.front.service.mapper.LoginMapper">

    <select id="memberLogin"  resultType="int">
        select
            case when inPass = pswd then 1
                 else 0 end as rslt
        from
            (select
                 encode(encrypt(convert_to(#{passwd},'utf8'),'ENC_KEY','aes'),'hex') as inPass
                  , pswd
             from
                 tb_pils_mbr tpm  where user_id = #{id}
            ) a;
    </select>
    <select id="memberInfo"  resultType="String">
        select
            bizno as bizNo
             from
                 tb_pils_mbr tpm  where user_id = #{id}
    </select>
</mapper>